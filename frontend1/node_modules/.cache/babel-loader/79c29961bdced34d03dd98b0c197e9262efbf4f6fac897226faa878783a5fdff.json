{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{useParams,useNavigate}from\"react-router-dom\";import'./Detail.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Detail=()=>{const{id}=useParams();const navigate=useNavigate();const[name,setName]=useState('');const[manufacturer,setManufacturer]=useState('');const[status,setStatus]=useState('');const[errors,setErrors]=useState('');const[isEditing,setIsEditing]=useState(false);useEffect(()=>{const fetchDeviceData=async()=>{try{const response=await axios.get(`http://217.71.129.139:5549/items/${id}`);const{name,manufacturer,status,errors}=response.data;setName(name);setManufacturer(manufacturer);setStatus(status);setErrors(errors);}catch(error){console.error(\"Ошибка при загрузке информации о детали: \",error);}};fetchDeviceData();},[id]);const handleDelete=async()=>{if(window.confirm(\"Вы уверены, что хотите удалить?\")){try{await axios.delete(`http://217.71.129.139:5549/items/${id}`);navigate(\"/\");}catch(error){console.error(\"Ошибка при удалении компонента: \",error);}}};const handleSave=async()=>{try{await axios.put(`http://217.71.129.139:5549/items/${id}`,{name,manufacturer,status,errors});setIsEditing(false);}catch(error){console.error(\"Ошибка при обновлении информации о детали: \",error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"detail_page\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F \\u043E \\u0434\\u0435\\u0442\\u0430\\u043B\\u0438 \\u0430\\u0432\\u0442\\u043E\\u043C\\u043E\\u0431\\u0438\\u043B\\u044F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail_info\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435:\",\" \",/*#__PURE__*/_jsx(\"strong\",{children:name})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u041F\\u0440\\u043E\\u0438\\u0437\\u0432\\u043E\\u0434\\u0438\\u0442\\u0435\\u043B\\u044C:\",\" \",/*#__PURE__*/_jsx(\"strong\",{children:manufacturer})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441:\",\" \",/*#__PURE__*/_jsx(\"strong\",{children:status})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0438:\",\" \",/*#__PURE__*/_jsx(\"strong\",{children:errors})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons_group\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/\"),children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,children:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsEditing(true),children:\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"})]}),isEditing&&/*#__PURE__*/_jsxs(\"div\",{className:\"edit_form\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u0438\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:e=>{e.preventDefault();handleSave();},children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u0438\\u043C\\u044F:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:e=>setName(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u041F\\u0440\\u043E\\u0438\\u0437\\u0432\\u043E\\u0434\\u0438\\u0442\\u0435\\u043B\\u044C:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:manufacturer,onChange:e=>setManufacturer(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setIsEditing(false),children:\"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"})]})]})]});};export default Detail;","map":{"version":3,"names":["React","useState","useEffect","axios","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","Detail","id","navigate","name","setName","manufacturer","setManufacturer","status","setStatus","errors","setErrors","isEditing","setIsEditing","fetchDeviceData","response","get","data","error","console","handleDelete","window","confirm","delete","handleSave","put","className","children","onClick","onSubmit","e","preventDefault","type","value","onChange","target","required"],"sources":["/home/igor/Documents/laba1/src/pages/Detail.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport './Detail.css'\n\nconst Detail = () => {\n\n    const { id } = useParams();\n    const navigate = useNavigate();\n    const [name,setName] = useState('');\n    const [manufacturer, setManufacturer] = useState('');\n    const [status,setStatus] = useState('');\n    const [errors, setErrors] = useState('');\n    const [isEditing, setIsEditing] = useState(false);\n\n    useEffect(() => {\n        const fetchDeviceData = async () => {\n            try {\n                const response = await axios.get(`http://217.71.129.139:5549/items/${id}`);\n                const { name, manufacturer, status, errors } = response.data;\n                setName(name);\n                setManufacturer(manufacturer);\n                setStatus(status);\n                setErrors(errors);\n            } catch (error) {\n                console.error(\"Ошибка при загрузке информации о детали: \", error);\n            }\n        };\n\n        fetchDeviceData();\n    }, [id]);\n\n    const handleDelete = async () => {\n        if (window.confirm(\"Вы уверены, что хотите удалить?\")) {\n            try {\n                await axios.delete(`http://217.71.129.139:5549/items/${id}`);\n                navigate(\"/\");\n\n            } catch (error) {\n                console.error(\"Ошибка при удалении компонента: \", error);\n            }\n        }\n    };\n\n    const handleSave = async () => {\n        try {\n            await axios.put(`http://217.71.129.139:5549/items/${id}`, { name, manufacturer, status, errors });\n            setIsEditing(false);\n        } catch (error) {\n            console.error(\"Ошибка при обновлении информации о детали: \", error);\n        }\n    }\n\n    return (\n        <div className=\"detail_page\">\n          <h1>Информация о детали автомобиля</h1>\n          <div className=\"detail_info\">\n            <label>\n              Название:{\" \"}\n              <strong>{name}</strong>\n            </label>\n            <br />\n            <label>\n              Производитель:{\" \"}\n              <strong>{manufacturer}</strong>\n            </label>\n            <br />\n            <label>\n              Статус:{\" \"}\n              <strong>{status}</strong>\n            </label>\n            <br />\n            <label>\n              Ошибки:{\" \"}\n              <strong>{errors}</strong>\n            </label>\n          </div>\n    \n          <div className=\"buttons_group\">\n            <button onClick={() => navigate(\"/\")}>Назад</button>\n            <button onClick={handleDelete}>\n              Удалить\n            </button>\n            <button onClick={() => setIsEditing(true)}>\n              Изменить\n            </button>\n          </div>\n    \n          {isEditing && (\n            <div className=\"edit_form\">\n              <h1>Редактирование информации</h1>\n              <form\n                onSubmit={(e) => {\n                  e.preventDefault();\n                  handleSave();\n                }}\n              >\n                <label>\n                  Новое имя:\n                  <input\n                    type=\"text\"\n                    value={name}\n                    onChange={(e) => setName(e.target.value)}\n                    required\n                  />\n                </label>\n                <br />\n                <label>\n                  Производитель:\n                  <input\n                    type=\"text\"\n                    value={manufacturer}\n                    onChange={(e) => setManufacturer(e.target.value)}\n                    required\n                  />\n                </label>\n                <br />\n                <button type=\"submit\">Сохранить</button>\n                <button\n                  type=\"button\"\n                  onClick={() => setIsEditing(false)}\n                >\n                  Отмена\n                </button>\n              </form>\n            </div>\n          )}\n        </div>\n      );\n};\n\nexport default Detail;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}