{"ast":null,"code":"var _jsxFileName = \"/home/igor/Documents/react4/src/pages/MeasuringSystem.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './MeasuringSystem.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MeasuringDeviceSystem = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    id\n  } = useParams();\n  const [mds, setMds] = useState(null);\n  const [isEditing, setIsEditing] = useState(false);\n  useEffect(() => {\n    const fetchMDS = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5000/measuring_device/${id}`, {\n          withCredentials: true,\n          credentials: 'include'\n        });\n        setMds(response.data);\n      } catch (err) {\n        console.error('Ошибка при получении данных');\n        navigate('/profile');\n      }\n    };\n    if (id) {\n      fetchMDS();\n    }\n  }, [id]);\n  const handleSave = async () => {\n    try {\n      await axios.put(`http://localhost:5000/measuring_device/${id}`, mds, {\n        withCredentials: true,\n        credentials: 'include'\n      });\n      setIsEditing(false);\n    } catch (err) {\n      toast.error(err.message || 'Ошибка при сохранении');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mds-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u0421\\u0438\\u0441\\u0442\\u0435\\u043C\\u0430 \\u0438\\u0437\\u043C\\u0435\\u0440\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u044B\\u0445 \\u043F\\u0440\\u0438\\u0431\\u043E\\u0440\\u043E\\u0432\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mds-data\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"data-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\u041C\\u043E\\u0434\\u0435\\u043B\\u044C:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this), isEditing ? /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: mds.model,\n          onChange: e => setMds({\n            ...mds,\n            model: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 25\n        }, this) : mds.model]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"data-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u0442\\u043E\\u043F\\u043B\\u0438\\u0432\\u0430 (\\u043B):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), isEditing ? /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: mds.fuel_quantity,\n          onChange: e => setMds({\n            ...mds,\n            fuel_quantity: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this) : mds.fuel_quantity]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"data-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\u0422\\u0435\\u043C\\u043F\\u0435\\u0440\\u0430\\u0442\\u0443\\u0440\\u0430 \\u043E\\u0445\\u043B\\u0430\\u0436\\u0434\\u0430\\u044E\\u0449\\u0435\\u0439 \\u0436\\u0438\\u0434\\u043A\\u043E\\u0441\\u0442\\u0438 (\\xB0C):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), isEditing ? /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: mds.coolant_temperature,\n          onChange: e => setMds({\n            ...mds,\n            coolant_temperature: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }, this) : mds.coolant_temperature]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"data-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\u0414\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043C\\u0430\\u0441\\u043B\\u0430 (\\u0431\\u0430\\u0440):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), isEditing ? /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: mds.oil_pressure,\n          onChange: e => setMds({\n            ...mds,\n            oil_pressure: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 25\n        }, this) : mds.oil_pressure]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"button-group\",\n      children: isEditing ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: handleSave,\n          children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          onClick: () => setIsEditing(false),\n          children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: () => setIsEditing(true),\n        children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n};\n_s(MeasuringDeviceSystem, \"Mh6R/Dp5awfVyr+fNkXb3QhYSkY=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = MeasuringDeviceSystem;\nexport default MeasuringDeviceSystem;\nvar _c;\n$RefreshReg$(_c, \"MeasuringDeviceSystem\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","axios","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","MeasuringDeviceSystem","_s","navigate","id","mds","setMds","isEditing","setIsEditing","fetchMDS","response","get","withCredentials","credentials","data","err","console","error","handleSave","put","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","model","onChange","e","target","fuel_quantity","coolant_temperature","oil_pressure","onClick","_c","$RefreshReg$"],"sources":["/home/igor/Documents/react4/src/pages/MeasuringSystem.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport { useParams, useNavigate } from \"react-router-dom\"\nimport axios from \"axios\"\nimport { toast } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'\nimport './MeasuringSystem.css'\n\nconst MeasuringDeviceSystem = () => {\n    const navigate = useNavigate()\n    const { id } = useParams()\n    const [mds, setMds] = useState(null)\n    const [isEditing, setIsEditing] = useState(false)\n\n    useEffect(() => {\n        const fetchMDS = async () => {\n            try {\n                const response = await axios.get(`http://localhost:5000/measuring_device/${id}`, { withCredentials: true, credentials: 'include' })\n                setMds(response.data)\n            } catch (err) {\n                console.error('Ошибка при получении данных')\n                navigate('/profile')\n            }\n        };\n        if (id) {\n            fetchMDS()\n        }\n    }, [id])\n\n    const handleSave = async () => {\n        try {\n            await axios.put(`http://localhost:5000/measuring_device/${id}`, mds, { withCredentials: true, credentials: 'include' })\n            setIsEditing(false)\n        } catch (err) {\n            toast.error(err.message || 'Ошибка при сохранении')\n        }\n    }\n\n    return (\n        <div className=\"mds-container\">\n            <h2>Система измерительных приборов</h2>\n            <div className=\"mds-data\">\n                <div className=\"data-item\">\n                    <strong>Модель:</strong>\n                    {isEditing ? (\n                        <input \n                            type=\"text\" \n                            value={mds.model} \n                            onChange={(e) => setMds({ ...mds, model: e.target.value })}\n                        />\n                    ) : mds.model}\n                </div>\n                <div className=\"data-item\">\n                    <strong>Количество топлива (л):</strong>\n                    {isEditing ? (\n                        <input \n                            type=\"number\" \n                            value={mds.fuel_quantity} \n                            onChange={(e) => setMds({ ...mds, fuel_quantity: e.target.value })}\n                        />\n                    ) : mds.fuel_quantity}\n                </div>\n                <div className=\"data-item\">\n                    <strong>Температура охлаждающей жидкости (°C):</strong>\n                    {isEditing ? (\n                        <input \n                            type=\"number\" \n                            value={mds.coolant_temperature} \n                            onChange={(e) => setMds({ ...mds, coolant_temperature: e.target.value })}\n                        />\n                    ) : mds.coolant_temperature}\n                </div>\n                <div className=\"data-item\">\n                    <strong>Давление масла (бар):</strong>\n                    {isEditing ? (\n                        <input \n                            type=\"number\" \n                            value={mds.oil_pressure} \n                            onChange={(e) => setMds({ ...mds, oil_pressure: e.target.value })}\n                        />\n                    ) : mds.oil_pressure}\n                </div>\n            </div>\n            <div className=\"button-group\">\n                {isEditing ? (\n                    <>\n                        <button className=\"btn btn-primary\" onClick={handleSave}>\n                            Сохранить\n                        </button>\n                        <button className=\"btn btn-secondary\" onClick={() => setIsEditing(false)}>\n                            Отмена\n                        </button>\n                    </>\n                ) : (\n                    <button className=\"btn btn-primary\" onClick={() => setIsEditing(true)}>\n                        Редактировать\n                    </button>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default MeasuringDeviceSystem"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}